const e=[{name:"cep-validation",config:({filter:e},{services:t,getSchema:n,database:a})=>{function o(e){const t=e.replace(/\D/g,"");return 8===t.length&&!!/^\d{8}$/.test(t)}async function c(e,c){const{collection:i}=c,s=Array.isArray(e)?e:[e],{FieldsService:r}=t,l=new r({knex:a,schema:await n()}),f=await l.readAll(i),d=[];for(const e of f)"cep-autofill"===e.meta?.interface&&d.push(e.field);if(0!==d.length)for(const e of s)for(const t of d){const n=e[t];if(null!=n&&""!==n&&!o(n)){const e=new Error(`CEP inválido no campo "${t}". O CEP deve conter exatamente 8 dígitos.`);throw e.extensions={code:"INVALID_PAYLOAD"},e}}}e("items.create",async(e,t,n)=>(await c(e,t),e)),e("items.update",async(e,t,n)=>(await c(e,t),e))}}],t=[],n=[];export{t as endpoints,e as hooks,n as operations};
